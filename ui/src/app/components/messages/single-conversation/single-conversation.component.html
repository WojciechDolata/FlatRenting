<div *ngIf="isLogged()">
  <div class="jumbotron jumbotron-fluid">
    <p class="lead pl-5 pr-5">
      Conversation with <strong>{{secondUser}}</strong>
      regarding {{conversation.offer.owner == getLoggedUser() ? 'your' : ''}} offer <strong>{{conversation.offer.title}}</strong>
    </p>
  </div>
  <ul class="list-group">
    <li *ngFor="let message of conversation.messages" class="list-group-item">
      <div class="{{message.sender.nick === getLoggedUser() ? 'right' : ''}}">
        <div>{{message.content}}</div>
        <small class="right">{{message.sender.nick === getLoggedUser() ? 'you' : secondUser}}, {{formatDate(message.creationTimestamp)}}</small>
      </div>
    </li>
  </ul>

  <br/>
  <br/>
  <br/>
  <app-message-form [conversationId]="conversation.id"
                    [createNewConversation]="false"
                    (onSend)="updateConversationData($event)"></app-message-form>
</div>

<app-login *ngIf="!isLogged()"></app-login>
